(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{4158:(e,s,r)=>{Promise.resolve().then(r.bind(r,5981))},6046:(e,s,r)=>{"use strict";var t=r(6658);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},5981:(e,s,r)=>{"use strict";r.d(s,{default:()=>i});var t=r(5155),l=r(2115),n=r(6046),a=r(8173),o=r.n(a);let i=()=>{let e=(0,n.useRouter)(),[s,r]=(0,l.useState)({name:"",email:"",cnic:"",password:""}),[a,i]=(0,l.useState)(!1),[u,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{localStorage.getItem("authToken")&&(d(!0),e.push("/"))},[e]);let c=e=>{let{name:s,value:t}=e.target;r(e=>({...e,[s]:t}))},g=async r=>{r.preventDefault(),i(!0);try{let r=await fetch("http://localhost:5000/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await r.json();r.ok?(alert("User registered successfully"),console.log("Response:",t),e.push("/login")):alert(t.message||"Registration failed")}catch(e){console.error("Error:",e),alert("Something went wrong. Please try again.")}finally{i(!1)}};return u?null:(0,t.jsx)("section",{className:"py-12 bg-gradient-to-r text-white",children:(0,t.jsx)("div",{className:"container mx-auto flex justify-center",children:(0,t.jsxs)("div",{className:"bg-white text-gray-800 shadow-xl rounded-lg p-8 w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center mb-6",children:"User Registration"}),(0,t.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"Please fill in the form below to register."}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",name:"name",value:s.name,onChange:c,className:"p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm",placeholder:"Full Name",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"email",name:"email",value:s.email,onChange:c,className:"p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm",placeholder:"Email",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",name:"cnic",value:s.cnic,onChange:c,className:"p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm",placeholder:"CNIC",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"password",name:"password",value:s.password,onChange:c,className:"p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm",placeholder:"Password",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:a,className:"".concat(a?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"," text-white py-3 px-6 rounded-lg w-full font-semibold shadow-lg transition duration-300"),children:a?"Signing in...":"Register"})})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",(0,t.jsx)(o(),{href:"/login",className:"text-blue-500 hover:underline",children:"Login"})]})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[173,441,517,358],()=>s(4158)),_N_E=e.O()}]);